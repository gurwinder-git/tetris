(this["webpackJsonpall-projects"]=this["webpackJsonpall-projects"]||[]).push([[0],[,,function(e,t,i){e.exports={tetris_container:"App_tetris_container__1WnRO",right_div:"App_right_div__3E5II",next_piece:"App_next_piece__23_CD",scores:"App_scores__1xSsP",controls:"App_controls__1_i_v",start_pause:"App_start_pause__2azgk",guide:"App_guide__3Jg38",intro:"App_intro__3CIq5"}},function(e,t,i){e.exports={grid:"Grid_grid__1eiNo",first:"Grid_first__2x-Ly",projection:"Grid_projection__dBRTJ",color:"Grid_color__9jIRd"}},,,,,,,function(e,t,i){e.exports={nextPieceGrid:"NextPiece_nextPieceGrid__csATf",color:"NextPiece_color__s1_Bq"}},,function(e,t,i){e.exports={start_button:"StartButton_start_button__2J2fl"}},function(e,t,i){e.exports={start_Game:"StartGame_start_Game__1YYL2"}},function(e,t,i){e.exports={c_button:"ControlButton_c_button__3m2-S"}},function(e,t,i){e.exports={Message_pop_up:"MessagePopUp_Message_pop_up__1KIP_"}},,,,,,function(e,t,i){},,function(e,t,i){"use strict";i.r(t);var r=i(1),a=i.n(r),s=i(11),n=i.n(s),c=(i(21),i(16)),o=i(8),d=i(4),l=i(5),u=i(7),p=i(6),h=i(2),g=i.n(h),j=i(3),f=i.n(j),v=i(0);var m=function(e){var t=e.grid,i=e.piece,r=[];return i&&(r=function(e,t){for(var i=[],r=[],a=t.posY;a<e.length;a++){r=i,i=[];for(var s=0;s<t.grid.length;s++)for(var n=0;n<t.grid[0].length;n++)if(t.grid[s][n]>0){if(a<-1)return!1;if(void 0===e[s+a])return r;if(e[s+a][n+t.posX]>0)return r;i.push(s+a+"_"+(n+t.posX))}}return i}(t,i)),Object(v.jsx)("div",{id:f.a.grid,children:t.map((function(e,a){return e.map((function(e,s){var n=[];return 0===s&&n.push(f.a.first),i&&-1!==i.mergeData.indexOf(a+"_"+s)&&(n.push(f.a.color),i.color),t[a][s]>0&&(n.push(f.a.color),t[a][s]),r.length&&-1!==r.indexOf(a+"_"+s)&&n.push(f.a.projection),Object(v.jsx)("span",{className:n.join(" ")},"".concat(a,"_").concat(s))}))}))})},b=i(10),x=i.n(b),_=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(){return Object(d.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"shouldComponentUpdate",value:function(e,t){return e.grid!==this.props.grid}},{key:"render",value:function(){var e=this.props.grid;return Object(v.jsx)("div",{className:x.a.nextPieceGrid,children:e.map((function(t,i){return t.map((function(t,r){var a=[];return e[i][r]>0&&(a.push(x.a.color),e[i][r]),Object(v.jsx)("span",{className:a.join(" ")},"".concat(i,"_").concat(r))}))}))})}}]),i}(a.a.Component),O=i(12),G=i.n(O);var S=function(e){return Object(v.jsx)("button",{className:G.a.start_button,onClick:e.clicked,children:e.children})},I=i(13),N=i.n(I);var k=function(e){return Object(v.jsxs)("div",{className:N.a.start_Game,children:[Object(v.jsx)("h1",{children:"Tetris"}),Object(v.jsx)(S,{clicked:e.clicked,children:"Start"})]})},P=i(14),M=i.n(P);var T=function(e){var t="^";switch(e.type){case"up":t=Object(v.jsx)("i",{className:"bi bi-caret-up-fill"});break;case"left":t=Object(v.jsx)("i",{className:"bi bi-caret-left-fill"});break;case"right":t=Object(v.jsx)("i",{className:"bi bi-caret-right-fill"});break;case"down":t=Object(v.jsx)("i",{className:"bi bi-caret-down-fill"});break;default:t="^"}return Object(v.jsx)("button",{className:M.a.c_button,onClick:function(){e.clicked()},disabled:e.disabled,children:t})},D=i(15),A=i.n(D);var y=function(e){var t,i=e.paused,r=e.gameOver,a=e.resumeGame,s=e.startGame,n="",c="";return i&&(n="Paused",t=a,c="Resume"),r&&(n="Game over",t=s,c="Play again"),Object(v.jsxs)("div",{className:A.a.Message_pop_up,children:[n,Object(v.jsx)(S,{clicked:t,children:c})]})},C=[[[0,0,0,0],[0,1,1,0],[1,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,1,0],[1,1,1,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[1,0,0,0],[1,1,1,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[1,1,0,0],[0,1,1,0],[0,0,0,0]]],w=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e){var r;return Object(d.a)(this,i),(r=t.call(this,e)).generateNextPieceIndex=function(){return Math.trunc(7*Math.random())},r.initGame=function(){r.timerID&&clearInterval(r.timerID),r.setState({grid:r.buildGrid(),nextPieceIndex:r.generateNextPieceIndex(),gameRunning:!0,paused:!1,clearLines:0,gameOver:!1},(function(){r.generatePiece(),r.setTimer()}))},r.setTimer=function(){r.timerID=setInterval((function(){r.state.piece&&r.pieceMoveToYAxis(1)}),r.levelToTime())},r.levelToTime=function(){var e=r.state.clearLines;return e>=0&&e<=3?1e3:e>=4&&e<=6?900:e>=7&&e<=9?800:700},r.buildGrid=function(){for(var e=[],t=0;t<r.state.gridHeight;t++){for(var i=[],a=0;a<r.state.gridWidth;a++)i.push(0);e.push(i)}return e},r.closeGame=function(){clearInterval(r.timerID),r.setState({gameOver:!0})},r.generatePiece=function(){var e={posY:0,posX:0};e.grid=C[r.state.nextPieceIndex],e.mergeData=[],e.color=Math.trunc(5*Math.random())+1;for(var t=!0,i=0;i<e.grid[0].length;i++)e.grid[0][i]>0&&(t=!1);t&&e.posY--,e.posX=Math.floor((r.state.gridWidth-e.grid[0].length)/2);var a=r.pieceCanBeMove(e);a?(e.mergeData=a,r.setState({piece:e,nextPieceIndex:r.generateNextPieceIndex()})):r.closeGame()},r.pieceCanBeMove=function(e){for(var t=[],i=0;i<e.grid.length;i++)for(var a=0;a<e.grid[0].length;a++)if(e.grid[i][a]>0){if(void 0===r.state.grid[i+e.posY])return!1;if(void 0===r.state.grid[i+e.posY][a+e.posX])return!1;if(r.state.grid[i+e.posY][a+e.posX]>0)return!1;t.push(i+e.posY+"_"+(a+e.posX))}return t},r.pieceMoveToXAxis=function(e){var t=Object(o.a)({},r.state.piece);if(null===t)return!1;t.posX+=e;var i=r.pieceCanBeMove(t);i&&(t.mergeData=i,r.setState({piece:t}))},r.pieceMoveToYAxis=function(e){var t=Object(o.a)({},r.state.piece);if(!t)return!1;t.posY+=e;var i=r.pieceCanBeMove(t);i?(t.mergeData=i,r.setState({piece:t})):r.mergePieceToGrid()},r.mergePieceToGrid=function(){var e=r.state.grid;r.state.piece.mergeData.forEach((function(t){var i=t.split("_"),a=Object(c.a)(i,2),s=a[0],n=a[1];e[+s][+n]=r.state.piece.color}));var t=r.cleanGridLine(e),i=t.clearLines,a=t.cleanGrid;r.setState((function(e){var t=e.clearLines+i;return t>JSON.parse(localStorage.getItem("highScore"))&&JSON.stringify(localStorage.setItem("highScore",t)),{grid:a,piece:null,clearLines:t,heighScore:JSON.parse(localStorage.getItem("highScore"))}}),(function(){r.generatePiece(),clearInterval(r.timerID),r.setTimer()}))},r.rotatePiece=function(e){var t=Object(o.a)({},r.state.piece);if(null===t)return!1;var i=[];if("right"===e)for(var a=0;a<t.grid[0].length;a++){for(var s=[],n=t.grid.length-1;n>-1;n--)s.push(t.grid[n][a]);i.push(s)}if("left"===e)for(var c=t.grid[0].length-1;c>-1;c--){for(var d=[],l=0;l<t.grid.length;l++)d.push(t.grid[l][c]);i.push(d)}t.grid=i;var u=r.pieceCanBeMove(t);if(u)t.mergeData=u,r.setState({piece:t});else{var p=!1;t.posX<0?(t.posX=0,p=!0):t.grid[0].length+t.posX>r.state.gridWidth?(t.posX=r.state.gridWidth-t.grid[0].length,p=!0):t.posY<0&&(t.posY=0,p=!0),p&&(u=r.pieceCanBeMove(t))&&(t.mergeData=u,r.setState({piece:t}))}},r.cleanGridLine=function(e){for(var t,i=[],a=0;a<r.state.gridHeight;a++){for(var s=!0,n=0;n<r.state.gridWidth;n++)0===e[a][n]&&(s=!1);!1===s&&i.push(e[a])}t=r.state.grid.length-i.length;for(var c=0;c<t;c++)i.unshift(o(r.state.gridWidth));function o(e){for(var t=[],i=0;i<e;i++)t.push(0);return t}return{clearLines:t,cleanGrid:i}},r.pauseGame=function(){clearInterval(r.timerID),console.log(r.timerID),r.setState({paused:!0})},r.resumeGame=function(){clearInterval(r.timerID),r.setState({paused:!1}),r.setTimer()},r.StartGame=function(){r.initGame()},r.restartGame=function(){window.confirm("Are you sure?")&&(clearInterval(r.timerID),r.initGame())},r.state={grid:null,gridHeight:18,gridWidth:10,piece:null,clearLines:0,nextPieceIndex:null,gameRunning:!1,heighScore:0,paused:!1,gameOver:!1},r}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("highScore"));this.setState({heighScore:t}),document.addEventListener("keydown",(function(t){if(!e.state.paused&&e.state.piece)switch(t.keyCode){case 39:e.pieceMoveToXAxis(1);break;case 37:e.pieceMoveToXAxis(-1);break;case 40:e.pieceMoveToYAxis(1);break;case 88:e.rotatePiece("right");break;case 90:e.rotatePiece("left")}}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[this.state.gameRunning?null:Object(v.jsx)(k,{clicked:this.StartGame}),this.state.paused||this.state.gameOver?Object(v.jsx)(y,{resumeGame:this.resumeGame,paused:this.state.paused,gameOver:this.state.gameOver,startGame:this.StartGame}):null,Object(v.jsxs)("div",{id:g.a.tetris_container,children:[this.state.grid?Object(v.jsx)(m,{grid:this.state.grid,piece:this.state.piece}):null,Object(v.jsxs)("div",{className:g.a.right_div,children:[Object(v.jsx)("h2",{children:"tetris"}),Object(v.jsxs)("div",{className:g.a.next_piece,children:[Object(v.jsx)("p",{children:"Next Piece"}),null!==this.state.nextPieceIndex?Object(v.jsx)(_,{grid:C[this.state.nextPieceIndex]}):""]}),Object(v.jsx)("div",{className:g.a.scores,children:Object(v.jsxs)("p",{children:["Clear Lines: ",Object(v.jsx)("span",{children:this.state.clearLines})]})}),Object(v.jsx)("div",{className:g.a.scores,children:Object(v.jsxs)("p",{children:["High Score: ",Object(v.jsx)("span",{children:this.state.heighScore})]})}),Object(v.jsxs)("div",{className:g.a.start_pause,children:[Object(v.jsx)("button",{onClick:this.restartGame,children:"Restart"}),Object(v.jsx)("button",{onClick:this.pauseGame,children:"Pause"})]}),Object(v.jsxs)("div",{className:g.a.guide,children:[Object(v.jsx)("div",{children:"x/z: Rotate"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{className:"bi bi-arrow-left"})," Left"]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{className:"bi bi-arrow-right"})," Right"]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{className:"bi bi-arrow-down"})," Down"]})]})]}),Object(v.jsxs)("div",{className:g.a.controls,children:[Object(v.jsx)(T,{disabled:this.state.paused,clicked:function(){e.state.piece&&e.rotatePiece("left")},type:"up",children:"up"}),Object(v.jsxs)("div",{children:[Object(v.jsx)(T,{disabled:this.state.paused,clicked:function(){e.state.piece&&e.pieceMoveToXAxis(-1)},type:"left",children:"left"}),Object(v.jsx)(T,{disabled:this.state.paused,clicked:function(){e.state.piece&&e.pieceMoveToXAxis(1)},type:"right",children:"Right"})]}),Object(v.jsx)(T,{disabled:this.state.paused,clicked:function(){e.state.piece&&e.pieceMoveToYAxis(1)},type:"down",children:"Down"})]}),Object(v.jsxs)("small",{className:g.a.intro,children:["Programmed by ",Object(v.jsx)("a",{children:"Gurwinder Singh"})]})]})]})}}]),i}(r.Component);n.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(w,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.2b939e50.chunk.js.map